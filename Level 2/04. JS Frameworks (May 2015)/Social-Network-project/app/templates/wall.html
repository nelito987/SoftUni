<header ng-if="isLogged()" header-directive></header>

<main user-controller-directive ng-init="getWallOwner()">

    <div profile-controller-directive class="wall-header col-xs-12" ng-if="wallOwner" ng-style="{'background-image':'url(' + (wallOwner.coverImageData ? wallOwner.coverImageData : 'images/default_cover.jpg') +')'}" >
        <div ng-if="wallOwner" class="media-left">
            <img ng-src="{{wallOwner.profileImageData}}" err-src="{{defaultImage}}" alt="profile picture" style="width: 125px; height: 125px"/>
        </div>
        <div class="media-body">
            <h2>{{wallOwner.name}}</h2>
            <div class="status">
                <button ng-if="wallOwner.status === 'invite'" type="submit" class="btn btn-lg btn-danger" ng-click="sendFriendRequest(wallOwner)">Invite</button>
                <button ng-if="wallOwner.status === 'friend'" class="btn btn-lg btn-success" disabled>Friend</button>
                <button ng-if="wallOwner.status === 'pending'" class="btn btn-lg btn-warning" disabled>Pending</button>
            </div>
        </div>
    </div>
    <div class="form-group col-md-9 col-xs-12">
        <div ng-if="isOwnWall || wallOwner.isFriend" ng-include="'templates/post-box.html'" class="row well">
        </div>
        <div ng-if="isLogged() && wallOwner" ng-include="'templates/posts.html'" class="row" infinite-scroll='loadUserWall()' infinite-scroll-disabled='busy' nfinite-scroll-distance="0">
        </div>
    </div>
    <div profile-controller-directive="">
        <div class="media col-md-3" ng-if="isOwnWall" ng-init="getOwnFriendsListPreview()" ng-include="'templates/friends-preview.html'"></div>
        <div class="media col-md-3" ng-if="!isOwnWall && friendsListPreview" ng-init="getUserFriendsListPreview()" ng-include="'templates/friends-preview.html'"></div>
    </div>
</main>